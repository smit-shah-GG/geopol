---
milestone: v1.0
audited: 2026-01-23T04:30:00Z
status: gaps_found
scores:
  requirements: 5/6
  phases: 5/5
  integration: 3/5
  flows: 2/3
gaps:
  integration:
    - "Phase 2 (Knowledge Graph) completely orphaned - 33 files unused"
    - "Phase 4 calibration components not wired to forecast flow"
  flows:
    - "Data refresh flow broken - no path from EventStorage to TemporalKnowledgeGraph"
tech_debt:
  - phase: 02-knowledge-graph
    items:
      - "33 files built but not imported by forecasting or training"
      - "Entity normalization, relation classification bypassed"
  - phase: 04-calibration
    items:
      - "IsotonicCalibrator built but not used in forecast output"
      - "PredictionStore built but predictions not saved"
  - phase: global
    items:
      - "UAT-005: Fix NetworkX shortest_path API (minor)"
      - "Scalability: Partition graph for distributed processing > 1M events"
---

# Milestone v1.0 Audit Report

**Audited:** 2026-01-23T04:30:00Z
**Status:** GAPS FOUND

## Executive Summary

The geopolitical forecasting engine is **functionally complete** — the core forecast flow works end-to-end. However, **Phase 2 (Knowledge Graph Engine) is completely orphaned**, representing significant work that's not integrated into the production flow.

**Recommendation:** Accept as v1.0 with documented tech debt, or create Phase 6 to integrate knowledge graph.

## Scores

| Category | Score | Status |
|----------|-------|--------|
| Requirements | 5/6 | ⚠ Partial |
| Phases | 5/5 | ✓ All executed |
| Integration | 3/5 | ⚠ Gaps |
| E2E Flows | 2/3 | ⚠ Gaps |

## Requirements Coverage

From PROJECT.md Active Requirements:

| # | Requirement | Status | Evidence |
|---|-------------|--------|----------|
| 1 | Event data ingestion from GDELT API | ✓ SATISFIED | Phase 1: GDELT client, EventStorage |
| 2 | Temporal knowledge graph construction | ⚠ PARTIAL | Phase 2: Built but orphaned |
| 3 | Hybrid model ensemble (TKG + LLM) | ✓ SATISFIED | Phase 3: EnsemblePredictor |
| 4 | Explainable reasoning chains | ✓ SATISFIED | Phase 3: LLM reasoning paths |
| 5 | Probability calibration (Brier score) | ⚠ PARTIAL | Phase 4: Built but not wired |
| 6 | Evaluation framework | ✓ SATISFIED | Phase 4: Historical evaluation |

## Phase Verification Status

| Phase | Status | VERIFICATION.md | Notes |
|-------|--------|-----------------|-------|
| 1. Data Foundation | ✓ Complete | Not created (legacy) | GDELT ingestion working |
| 2. Knowledge Graph | ✓ Complete | Not created (legacy) | **ORPHANED** - not used |
| 3. Hybrid Forecasting | ✓ Complete | Not created (legacy) | Ensemble working |
| 4. Calibration | ✓ Complete | Not created (legacy) | Partial wiring |
| 5. TKG Training | ✓ Complete | ✓ PASSED (7/7) | Fully integrated |

## Integration Analysis

### What Actually Executes

```
GDELT API → EventStorage (Phase 1)
              ↓ (direct to parquet, bypassing graph)
         [Phase 2 ORPHANED]

Phase 1 → data_processor → parquet → train_tkg.py → regcn_trained.pt (Phase 5)
                                                          ↓
                                               TKGPredictor.auto_load() (Phase 3)
                                                          ↓
                                               EnsemblePredictor (Phase 3)
                                                          ↓
                                               Temperature scaling (Phase 4 partial)
```

### What Was Designed But Not Wired

```
Phase 1 (EventStorage) → Phase 2 (TemporalKnowledgeGraph)
                              ↓
Phase 2 (enriched graph) → Phase 3 (TKGPredictor) + Phase 5 (training)
                              ↓
Phase 3 (predictions) → Phase 4 (PredictionStore, IsotonicCalibrator)
```

### Connected Transitions (3/5)

1. **Phase 1 → Phase 5:** GDELT data flows to training via parquet
2. **Phase 5 → Phase 3:** Trained checkpoint auto-loads into TKGPredictor
3. **Phase 4 → Phase 3:** Temperature scaling parameter wired

### Broken Transitions (2/5)

1. **Phase 1 → Phase 2:** No code populates TemporalKnowledgeGraph from EventStorage
2. **Phase 2 → Phase 3/5:** Neither forecasting nor training imports src.knowledge_graph

## E2E Flow Status

| Flow | Status | Notes |
|------|--------|-------|
| Forecast | ✓ Works | `forecast.py` → LLM+TKG → calibrated output |
| Data refresh | ✗ Broken | No path from EventStorage to graph |
| Retraining | ✓ Works | Scheduler → collection → training → deploy |

## Critical Gaps

### 1. Phase 2 Orphaned (33 files)

**Impact:** Significant development work not used in production.

**Files affected:**
- `src/knowledge_graph/` — TemporalKnowledgeGraph, EntityNormalizer, RelationClassifier
- `src/graph/` — VectorStore, QueryEngine, graph utilities
- All entity resolution and relation extraction logic

**Root cause:** Training pipeline reads parquet directly, TKGPredictor uses raw NetworkX.

### 2. Calibration Not Fully Wired

**Impact:** Predictions not tracked, isotonic calibration not applied.

**Files affected:**
- `src/calibration/isotonic.py` — IsotonicCalibrator built but not called
- `src/calibration/prediction_store.py` — PredictionStore built but not used

## Tech Debt Summary

### Phase 2: Knowledge Graph (33 files)
- Entity normalization, relation classification never imported
- Vector embeddings (RotatE) unused
- Graph query interface orphaned

### Phase 4: Calibration
- IsotonicCalibrator built but not in forecast flow
- PredictionStore for tracking built but not used

### Global
- UAT-005: NetworkX shortest_path API (minor, non-blocking)
- Scalability: Graph partitioning for >1M events (future work)

## Recommendations

### Option A: Accept as v1.0 with Tech Debt

The core forecast flow works. Accept Phase 2 as "built but not integrated" and track for v1.1.

**Pros:** Ship now, iterate later
**Cons:** 33 files of unused code, maintenance burden

### Option B: Plan Phase 6 Integration

Create additional phase to wire Phase 2 into production flow:
- Connect EventStorage → TemporalKnowledgeGraph
- Use enriched graph in TKGPredictor
- Wire IsotonicCalibrator to forecast output

**Pros:** Complete the designed architecture
**Cons:** Additional development time

---

*Audited: 2026-01-23T04:30:00Z*
*Auditor: Claude (gsd-integration-checker)*
