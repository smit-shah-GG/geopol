# Milestone v1.0: Explainable Geopolitical Forecasting Engine

**Status:** SHIPPED 2026-01-23
**Phases:** 1-5
**Total Plans:** 16

## Overview

Building a hybrid intelligence forecasting system that processes GDELT events through temporal knowledge graphs and ensemble models to produce explainable predictions. The journey progressed from establishing data pipelines through knowledge representation to hybrid prediction and finally calibration, focusing on conflicts and diplomatic events with evaluation on recent (2023-2024) geopolitical developments.

## Phases

### Phase 1: Data Foundation

**Goal**: Establish GDELT data pipeline with intelligent sampling for compute-constrained environment
**Depends on**: Nothing (first phase)
**Plans**: 3 plans

Plans:
- [x] 01-01: GDELT API client with rate limiting and error handling
- [x] 01-02: Event storage schema optimized for TKG construction
- [x] 01-03: Intelligent sampling strategy for conflicts/diplomatic events

**Details:**
- GDELT API v2 integration with rate limiting
- CAMEO QuadClass filtering for conflicts (4) and diplomatic (1) events
- SQLite storage optimized for TKG construction
- Intelligent sampling for 500K-1M daily articles

### Phase 2: Knowledge Graph Engine

**Goal**: Build temporal knowledge graph from event streams with efficient vector representations
**Depends on**: Phase 1
**Plans**: 3 plans

Plans:
- [x] 02-01: TKG construction from GDELT events with entity/relation extraction
- [x] 02-02: Vector embedding system for entities and temporal relations
- [x] 02-03: Graph query interface for pattern retrieval

**Details:**
- TemporalKnowledgeGraph with NetworkX backend
- Entity resolution and relationship extraction
- TransE-style embeddings for entities and relations
- Graph traversal and pattern matching API
- Integration with SQLite event storage via add_events_batch()

### Phase 3: Hybrid Forecasting

**Goal**: Implement ensemble prediction engine combining graph algorithms with LLM reasoning
**Depends on**: Phase 2
**Plans**: 4 plans

Plans:
- [x] 03-01: Gemini API integration with multi-step reasoning
- [x] 03-02: RAG pipeline for historical grounding
- [x] 03-03: TKG algorithms (RE-GCN) integration
- [x] 03-04: Ensemble layer and CLI interface

**Details:**
- Gemini API integration via google-genai SDK
- RAG pipeline with vector retrieval from knowledge graph
- RE-GCN TKG predictor (40% weight in ensemble)
- LLM reasoning orchestrator (60% weight in ensemble)
- CLI with JSON/text/summary output formats
- Temperature scaling for confidence calibration

### Phase 4: Calibration & Evaluation

**Goal**: Transform raw predictions into calibrated probabilities with explainable reasoning paths
**Depends on**: Phase 3
**Plans**: 2 plans

Plans:
- [x] 04-01: Probability calibration with Brier score optimization
- [x] 04-02: Evaluation framework using 2023-2024 events with explainability metrics

**Details:**
- Isotonic calibration for probability adjustment
- Temperature scaling complementary to isotonic
- Per-category calibration curves (conflict/diplomatic/economic)
- PredictionStore for tracking predictions over time
- Historical evaluation framework
- Keyword-based category inference

### Phase 5: TKG Training

**Goal**: Train the Temporal Knowledge Graph predictor with real GDELT data and implement RE-GCN for production use
**Depends on**: Phase 4
**Plans**: 4 plans

Plans:
- [x] 05-01: GDELT data collection pipeline
- [x] 05-02: RE-GCN implementation
- [x] 05-03: Training pipeline
- [x] 05-04: Integration and evaluation

**Details:**
- GDELT historical data collection (30-day windows, 1.8M events)
- RE-GCN implementation with JAX/jraph for training efficiency
- PyTorch inference with checkpoint conversion
- Model trained on 591K triple patterns
- MRR 0.14 on validation set
- Auto-loading of trained model on TKGPredictor initialization
- Weekly retraining scheduler with cron/systemd support

---

## Milestone Summary

**Key Decisions:**

| Decision | Rationale | Outcome |
|----------|-----------|---------|
| Python for implementation | Scientific computing ecosystem | Good |
| Focus on conflicts/diplomatic events | QuadClass 1 & 4 most relevant | Good |
| 2023-2024 evaluation period | Recent events for contemporary relevance | Good |
| uv for package management | User preference, fast | Good |
| google-genai SDK | Replaces deprecated google-generativeai | Good |
| RE-GCN over TiRGN | More mature implementation | Good |
| CPU-only PyTorch | Production compatibility | Good |
| 60/40 LLM/TKG weighting | Balance reasoning with patterns | Good |
| SQLite for prediction tracking | Lightweight, no external deps | Good |
| JAX/jraph for training | Memory efficiency | Good |
| Weekly retraining schedule | Captures evolving patterns | Good |

**Issues Resolved:**

- UAT-004: Temporal index bisect issue fixed
- Integration concerns: Phase 2 properly wired (not orphaned as initially reported)
- Training memory issues: Solved with JAX/jraph approach

**Issues Deferred:**

- UAT-005: NetworkX shortest_path API (use single_source_shortest_path instead)
- Scalability: Graph partitioning for >1M events

**Technical Debt Incurred:**

- Missing bootstrap script for production Phase 1 → Phase 2 → Phase 3 connection
- IsotonicCalibrator optional in forecast flow
- PredictionStore not auto-enabled

---

*For current project status, see .planning/MILESTONES.md*
*Archived: 2026-01-23 as part of v1.0 milestone completion*
