---
phase: 02-knowledge-graph-engine
plan: 02-01-FIX
type: fix
---

<objective>
Fix 3 UAT issues from plan 02-01.

Source: 02-01-ISSUES.md
Priority: 1 blocker, 1 major, 1 minor
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@.planning/ROADMAP.md

**Issues being fixed:**
@.planning/phases/02-knowledge-graph-engine/02-01-ISSUES.md

**Original plan for reference:**
@.planning/phases/02-knowledge-graph-engine/02-01-PLAN.md
</context>

<tasks>
<task type="auto">
  <name>Fix UAT-001: Correct import paths throughout knowledge_graph modules</name>
  <files>
    src/knowledge_graph/graph_builder.py
    src/knowledge_graph/temporal_index.py
    src/knowledge_graph/persistence.py
    src/knowledge_graph/test_integration.py
    src/knowledge_graph/test_graph_builder.py
    src/knowledge_graph/test_temporal_index.py
    src/knowledge_graph/test_persistence.py
  </files>
  <action>
    Fix all import statements to use relative imports within the knowledge_graph package:
    - Change `from entity_normalization import` to `from .entity_normalization import`
    - Change `from relation_classification import` to `from .relation_classification import`
    - Change `from graph_builder import` to `from .graph_builder import`
    - Change `from temporal_index import` to `from .temporal_index import`
    - Change `from persistence import` to `from .persistence import`

    Apply this pattern to all imports within the package. Use relative imports for same-package modules.

    For test files, ensure they properly import from the src.knowledge_graph package.
  </action>
  <verify>
    python -c "from src.knowledge_graph.graph_builder import TemporalKnowledgeGraph; print('Import works')"
    python -c "from src.knowledge_graph.temporal_index import TemporalIndex; print('Import works')"
    python -c "from src.knowledge_graph.persistence import GraphPersistence; print('Import works')"
  </verify>
  <done>All modules can be imported without ModuleNotFoundError</done>
</task>

<task type="auto">
  <name>Fix UAT-002: Add networkx to requirements.txt</name>
  <files>requirements.txt</files>
  <action>
    Add networkx>=3.0 to requirements.txt if not already present.
    Ensure it's in the correct format and position in the file.
    Note: User already installed it manually during testing, but it needs to be in requirements for fresh installs.
  </action>
  <verify>
    grep -q "networkx" requirements.txt && echo "networkx in requirements"
  </verify>
  <done>networkx is listed in requirements.txt</done>
</task>

<task type="auto">
  <name>Fix UAT-003: Update documentation to match actual method signatures</name>
  <files>.planning/phases/02-knowledge-graph-engine/02-01-SUMMARY.md</files>
  <action>
    Update the SUMMARY.md to reflect the actual method names implemented:
    - EntityNormalizer uses `resolve_actor()` not `normalize()`
    - TemporalIndex uses `edges_in_time_range()` not `get_edges_in_time_range()`
    - GraphPersistence uses `save()` not `save_graph()`

    Update the documentation to match the actual implementation rather than changing the code,
    as the code is already working and other code may depend on current method names.
  </action>
  <verify>
    grep -q "resolve_actor" .planning/phases/02-knowledge-graph-engine/02-01-SUMMARY.md && echo "Documentation updated"
  </verify>
  <done>SUMMARY documentation matches actual API</done>
</task>
</tasks>

<verification>
Before declaring plan complete:
- [ ] All critical issues fixed (UAT-001 import paths)
- [ ] All major issues fixed (UAT-002 networkx dependency)
- [ ] Minor issues fixed (UAT-003 documentation)
- [ ] Original acceptance criteria from issues met
- [ ] All modules can be imported successfully
- [ ] Integration test can run without import errors
</verification>

<success_criteria>
- All 3 UAT issues from 02-01-ISSUES.md addressed
- Import statements work correctly
- networkx in requirements.txt
- Documentation matches implementation
- Ready for re-verification with /gsd:verify-work
</success_criteria>

<output>
After completion, create `.planning/phases/02-knowledge-graph-engine/02-01-FIX-SUMMARY.md`
</output>